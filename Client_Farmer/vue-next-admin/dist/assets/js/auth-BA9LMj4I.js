import{b as n}from"./.store-CUxRj2E2.js";const t=n.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const a=sessionStorage.getItem("accessToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e.data instanceof FormData&&(delete e.headers["Content-Type"],console.log("auth.ts - 检测到FormData，已删除Content-Type让浏览器自动设置")),e},e=>Promise.reject(e));t.interceptors.response.use(e=>e.data,e=>(console.error("API请求错误:",e),Promise.reject(e)));const o=async e=>t.post("/userLogin",e),p=async e=>t.post("/updateAdmin",e),u=async e=>t.post("/getAdminInfo",e),c=async e=>t.post("/updatePass",e),i=async e=>t.post("/updatePhoneNumber",e),d=async(e,a)=>{const s=new FormData;return s.append("file",e),s.append("admin_id",a.toString()),t.post("/updateAvatar",s)};export{p as a,c as b,i as c,u as g,o as l,d as u};
