const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./dialog-JEjVGOG2.js",".store-DdqHRk86.js","../css/.store-DbUK_3gL.css"])))=>i.map(i=>d[i]);
import{_ as N}from"./index-uJp-ZfSa.js";import{l as D,r as B,M as S,w as z,A as o,a5 as E,O as $,C as p,H as t,D as a,P as A,F as R,S as s,B as c,T as L,J as O,k as V,E as F,e as P}from"./.store-DdqHRk86.js";const I={class:"system-dept-container layout-padding"},H={class:"system-dept-search mb15"},J=D({name:"systemDept"}),K=D({...J,setup(j){const g=V(()=>N(()=>import("./dialog-JEjVGOG2.js"),__vite__mapDeps([0,1,2]),import.meta.url)),m=B(),l=S({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:10}}}),u=()=>{l.tableData.loading=!0,l.tableData.data=[],l.tableData.data.push({deptName:"智云农庄",createTime:new Date().toLocaleString(),status:!0,sort:Math.random(),describe:"顶级部门",id:Math.random(),children:[{deptName:"IT外包服务",createTime:new Date().toLocaleString(),status:!0,sort:Math.random(),describe:"总部",id:Math.random()},{deptName:"资本控股",createTime:new Date().toLocaleString(),status:!0,sort:Math.random(),describe:"分部",id:Math.random()}]}),l.tableData.total=l.tableData.data.length,setTimeout(()=>{l.tableData.loading=!1},500)},_=d=>{m.value.openDialog(d)},y=(d,e)=>{m.value.openDialog(d,e)},v=d=>{F.confirm(`此操作将永久删除部门：${d.deptName}, 是否继续?`,"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{u(),P.success("删除成功")}).catch(()=>{})};return z(()=>{u()}),(d,e)=>{const h=o("el-input"),k=o("ele-Search"),f=o("el-icon"),i=o("el-button"),x=o("ele-FolderAdd"),r=o("el-table-column"),w=o("el-tag"),C=o("el-table"),T=o("el-card"),M=E("loading");return p(),$("div",I,[t(T,{shadow:"hover",class:"layout-padding-auto"},{default:a(()=>[A("div",H,[t(h,{size:"default",placeholder:"请输入部门名称",style:{"max-width":"180px"}}),t(i,{size:"default",type:"primary",class:"ml10"},{default:a(()=>[t(f,null,{default:a(()=>[t(k)]),_:1}),e[3]||(e[3]=s(" 查询 ",-1))]),_:1}),t(i,{size:"default",type:"success",class:"ml10",onClick:e[0]||(e[0]=n=>_("add"))},{default:a(()=>[t(f,null,{default:a(()=>[t(x)]),_:1}),e[4]||(e[4]=s(" 新增部门 ",-1))]),_:1})]),R((p(),c(C,{data:l.tableData.data,style:{width:"100%"},"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:a(()=>[t(r,{prop:"deptName",label:"部门名称","show-overflow-tooltip":""}),t(r,{label:"排序","show-overflow-tooltip":"",width:"80"},{default:a(n=>[s(L(n.$index),1)]),_:1}),t(r,{prop:"status",label:"部门状态","show-overflow-tooltip":""},{default:a(n=>[n.row.status?(p(),c(w,{key:0,type:"success"},{default:a(()=>[...e[5]||(e[5]=[s("启用",-1)])]),_:1})):(p(),c(w,{key:1,type:"info"},{default:a(()=>[...e[6]||(e[6]=[s("禁用",-1)])]),_:1}))]),_:1}),t(r,{prop:"describe",label:"部门描述","show-overflow-tooltip":""}),t(r,{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}),t(r,{label:"操作","show-overflow-tooltip":"",width:"140"},{default:a(n=>[t(i,{size:"small",text:"",type:"primary",onClick:e[1]||(e[1]=b=>_("add"))},{default:a(()=>[...e[7]||(e[7]=[s("新增",-1)])]),_:1}),t(i,{size:"small",text:"",type:"primary",onClick:b=>y("edit",n.row)},{default:a(()=>[...e[8]||(e[8]=[s("修改",-1)])]),_:2},1032,["onClick"]),t(i,{size:"small",text:"",type:"primary",onClick:b=>v(n.row)},{default:a(()=>[...e[9]||(e[9]=[s("删除",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[M,l.tableData.loading]])]),_:1}),t(O(g),{ref_key:"deptDialogRef",ref:m,onRefresh:e[2]||(e[2]=n=>u())},null,512)])}}});export{K as default};
