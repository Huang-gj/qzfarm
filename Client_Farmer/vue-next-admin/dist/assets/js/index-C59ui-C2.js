import{l as u,v as w,s as x,M as y,p as k,w as L,A as i,O as U,C as V,H as n,D as d,P as s,T as t,S as l}from"./.store-CUxRj2E2.js";import{u as N,L as p}from"./index-ehGYOv3s.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"upgrade-dialog"},$={class:"upgrade-title"},A={class:"upgrade-title-warp"},B={class:"upgrade-title-warp-txt"},E={class:"upgrade-title-warp-version"},H={class:"upgrade-content"},I={class:"mt5"},S={class:"upgrade-content-desc mt5"},z={class:"upgrade-btn"},D=u({name:"layoutUpgrade"}),M=u({...D,setup(j){const{t:r}=w.useI18n(),g=N(),{themeConfig:m}=x(g),e=y({isUpgrade:!1,version:"2.4.33",isLoading:!1,btnTxt:""}),_=k(()=>m.value),f=()=>{e.isUpgrade=!1},v=()=>{e.isLoading=!0,e.btnTxt=r("message.upgrade.btnTwoLoading"),setTimeout(()=>{p.clear(),window.location.reload(),p.set("version",e.version)},2e3)},h=()=>{setTimeout(()=>{e.isUpgrade=!0},2e3)};return L(()=>{h(),setTimeout(()=>{e.btnTxt=r("message.upgrade.btnTwo")},200)}),(o,a)=>{const T=i("el-link"),c=i("el-button"),b=i("el-dialog");return V(),U("div",O,[n(b,{modelValue:e.isUpgrade,"onUpdate:modelValue":a[0]||(a[0]=C=>e.isUpgrade=C),width:"300px","destroy-on-close":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:d(()=>[s("div",$,[s("div",A,[s("span",B,t(o.$t("message.upgrade.title")),1),s("span",E,"v"+t(e.version),1)])]),s("div",H,[l(t(_.value.globalTitle)+" "+t(o.$t("message.upgrade.msg"))+" ",1),s("div",I,[n(T,{type:"primary",class:"font12",href:"https://gitee.com/lyt-top/vue-next-admin/blob/master/CHANGELOG.md",target:"_black"},{default:d(()=>[...a[1]||(a[1]=[l(" CHANGELOG.md ",-1)])]),_:1})]),s("div",S,t(o.$t("message.upgrade.desc")),1)]),s("div",z,[n(c,{round:"",size:"default",type:"info",text:"",onClick:f},{default:d(()=>[l(t(o.$t("message.upgrade.btnOne")),1)]),_:1}),n(c,{type:"primary",round:"",size:"default",onClick:v,loading:e.isLoading},{default:d(()=>[l(t(e.btnTxt),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}}),F=G(M,[["__scopeId","data-v-c3f321f0"]]);export{F as default};
