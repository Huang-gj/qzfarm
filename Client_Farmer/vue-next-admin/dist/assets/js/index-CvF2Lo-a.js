const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./list-BYY38FMa.js",".store-DdqHRk86.js","../css/.store-DbUK_3gL.css","./_plugin-vue_export-helper-DlAUqK2U.js","../css/list-BIB-_YcW.css"])))=>i.map(i=>d[i]);
import{_ as E}from"./index-uJp-ZfSa.js";import{n as I,j as F,l as R,r as $,M as N,p as j,w as G,y as M,A as p,O as S,C as g,H as r,D as d,B as U,Q as H,P as _,T as J,J as P,k as Q}from"./.store-DdqHRk86.js";const q=()=>new Promise((i,f)=>{I(()=>{const l=document.styleSheets;let n=[],s=[];for(let t=0;t<l.length;t++)l[t].href&&l[t].href.indexOf("at.alicdn.com")>-1&&n.push(l[t]);for(let t=0;t<n.length;t++)for(let e=0;e<n[t].cssRules.length;e++)n[t].cssRules[e].selectorText&&n[t].cssRules[e].selectorText.indexOf(".icon-")>-1&&s.push(`${n[t].cssRules[e].selectorText.substring(1,n[t].cssRules[e].selectorText.length).replace(/\:\:before/gi,"")}`);s.length>0?i(s):f("未获取到值，请刷新重试")})}),K=()=>new Promise((i,f)=>{I(()=>{const l=F,n=[];for(const s in l)n.push(`ele-${l[s].name}`);n.length>0?i(n):f("未获取到值，请刷新重试")})}),X=()=>new Promise((i,f)=>{I(()=>{const l=document.styleSheets;let n=[],s=[];for(let t=0;t<l.length;t++)l[t].href&&l[t].href.indexOf("https://cdn.jsdelivr.net")>-1&&n.push(l[t]);for(let t=0;t<n.length;t++)for(let e=0;e<n[t].cssRules.length;e++)n[t].cssRules[e].selectorText&&n[t].cssRules[e].selectorText.indexOf(".fa-")===0&&n[t].cssRules[e].selectorText.indexOf(",")===-1&&/::before/.test(n[t].cssRules[e].selectorText)&&s.push(`${n[t].cssRules[e].selectorText.substring(1,n[t].cssRules[e].selectorText.length).replace(/\:\:before/gi,"")}`);s.length>0?i(s.reverse()):f("未获取到值，请刷新重试")})}),v={ali:()=>q(),ele:()=>K(),awe:()=>X()},Y={class:"icon-selector w100 h100"},Z={class:"icon-selector-warp"},ee={class:"icon-selector-warp-title"},te=R({name:"iconSelector"}),le=R({...te,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(i,{emit:f}){const l=i,n=f,s=Q(()=>E(()=>import("./list-BYY38FMa.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=$(),e=N({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),C=()=>{if(!l.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=l.modelValue},O=()=>{const o=y();setTimeout(()=>{o.filter(a=>a===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},m=j(()=>{const o=y();if(!e.fontIconSearch)return o;let c=e.fontIconSearch.trim().toLowerCase();return o.filter(a=>{if(a.toLowerCase().indexOf(c)!==-1)return a})}),y=()=>{let o=[];return e.fontIconTabActive==="ali"?o=e.fontIconList.ali:e.fontIconTabActive==="ele"?o=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(o=e.fontIconList.awe),o},b=()=>{if(l.modelValue==="")return e.fontIconPlaceholder=l.placeholder;e.fontIconPlaceholder=l.modelValue,e.fontIconPrefix=l.modelValue},w=()=>{let o="ali";return l.modelValue.indexOf("iconfont")>-1?o="ali":l.modelValue.indexOf("ele-")>-1?o="ele":l.modelValue.indexOf("fa")>-1&&(o="awe"),e.fontIconTabActive=o,o},L=async o=>{if(o==="ali"){if(e.fontIconList.ali.length>0)return;await v.ali().then(c=>{e.fontIconList.ali=c.map(a=>`iconfont ${a}`)})}else if(o==="ele"){if(e.fontIconList.ele.length>0)return;await v.ele().then(c=>{e.fontIconList.ele=c})}else if(o==="awe"){if(e.fontIconList.awe.length>0)return;await v.awe().then(c=>{e.fontIconList.awe=c.map(a=>`fa ${a}`)})}e.fontIconPlaceholder=l.placeholder,b()},k=o=>{L(o.paneName),t.value.focus()},h=o=>{e.fontIconPlaceholder=o,e.fontIconPrefix=o,n("get",e.fontIconPrefix),n("update:modelValue",e.fontIconPrefix),t.value.focus()},A=()=>{e.fontIconPrefix="",n("clear",e.fontIconPrefix),n("update:modelValue",e.fontIconPrefix)},T=()=>{I(()=>{e.fontIconWidth=t.value.$el.offsetWidth})},z=()=>{window.addEventListener("resize",()=>{T()})};return G(()=>{L(w()),z(),T()}),M(()=>l.modelValue,()=>{b(),w()}),(o,c)=>{const a=p("SvgIcon"),B=p("el-input"),x=p("el-tab-pane"),D=p("el-tabs"),W=p("el-popover");return g(),S("div",Y,[r(B,{modelValue:e.fontIconSearch,"onUpdate:modelValue":c[0]||(c[0]=u=>e.fontIconSearch=u),placeholder:e.fontIconPlaceholder,clearable:i.clearable,disabled:i.disabled,size:i.size,ref_key:"inputWidthRef",ref:t,onClear:A,onFocus:C,onBlur:O},{prepend:d(()=>{var u,V;return[(e.fontIconPrefix===""?((u=i.prepend)==null?void 0:u.indexOf("ele-"))>-1:((V=e.fontIconPrefix)==null?void 0:V.indexOf("ele-"))>-1)?(g(),U(a,{key:0,name:e.fontIconPrefix===""?i.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(g(),S("i",{key:1,class:H([e.fontIconPrefix===""?i.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),r(W,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":t.value,"virtual-triggering":""},{default:d(()=>[_("div",Z,[_("div",ee,J(i.title),1),r(D,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":c[1]||(c[1]=u=>e.fontIconTabActive=u),onTabClick:k},{default:d(()=>[r(x,{lazy:"",label:"ali",name:"ali"},{default:d(()=>[r(P(s),{list:m.value,empty:i.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1}),r(x,{lazy:"",label:"ele",name:"ele"},{default:d(()=>[r(P(s),{list:m.value,empty:i.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1}),r(x,{lazy:"",label:"awe",name:"awe"},{default:d(()=>[r(P(s),{list:m.value,empty:i.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:h},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{le as default};
