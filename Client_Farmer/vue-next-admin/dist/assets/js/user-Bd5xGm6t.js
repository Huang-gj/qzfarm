const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./userNews-C8qaipZ1.js",".store-B6_YEv0p.js","../css/.store-DbUK_3gL.css","./_plugin-vue_export-helper-DlAUqK2U.js","../css/userNews-DTTk5ebD.css","./search-Bqh_KO4I.js","./index-LdrvTkjS.js","../css/index-TDrV2aGq.css","../css/search-BjGod-FF.css"])))=>i.map(i=>d[i]);
import{d as Z,b as K,u as Y,L as d,_ as I,e as ee,S as se,o as te}from"./index-LdrvTkjS.js";import{l as z,r as b,v as oe,Z as ne,s as S,M as ae,p as le,w as re,A as l,O as B,C as E,H as s,P as r,F as ie,D as t,Q as O,S as i,J as m,au as ue,k as T,T as f,X as ce,av as _,e as de,E as me}from"./.store-B6_YEv0p.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _e={class:"layout-navbars-breadcrumb-user-icon"},ge=["title"],pe=["title"],be=["title"],he={class:"layout-navbars-breadcrumb-user-link"},ve=["src"],we=z({name:"layoutBreadcrumbUser"}),Ce=z({...we,setup(ke){const N=T(()=>I(()=>import("./userNews-C8qaipZ1.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),R=T(()=>I(()=>import("./search-Bqh_KO4I.js"),__vite__mapDeps([5,1,2,6,7,3,8]),import.meta.url)),h=b(),v=b(),{locale:U,t:c}=oe.useI18n(),A=ne(),$=Z(),w=K(),D=Y(),{userInfos:ye}=S($),{themeConfig:g}=S(D),C=b(),a=ae({isScreenfull:!1,disabledI18n:"zh-cn"}),L=le(()=>{let e="";const{layout:o,isClassicSplitMenu:n}=g.value;return["defaults","columns"].includes(o)||o==="classic"&&!n?e="1":e="",e}),M=()=>{if(!_.isEnabled)return de.warning("暂不不支持全屏"),!1;_.toggle(),_.on("change",()=>{_.isFullscreen?a.isScreenfull=!0:a.isScreenfull=!1})},P=()=>{var e,o;(o=(e=m(h).popperRef)==null?void 0:e.delayHide)==null||o.call(e)},V=()=>{ee.emit("openSetingsDrawer")},x=e=>{e==="logOut"?me({closeOnClickModal:!1,closeOnPressEscape:!1,title:c("message.user.logOutTitle"),message:c("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:c("message.user.logOutConfirm"),cancelButtonText:c("message.user.logOutCancel"),buttonSize:"default",beforeClose:(o,n,u)=>{o==="confirm"?(n.confirmButtonLoading=!0,n.confirmButtonText=c("message.user.logOutExit"),setTimeout(()=>{u(),setTimeout(()=>{n.confirmButtonLoading=!1},300)},700)):u()}}).then(async()=>{se.clear(),window.location.reload()}).catch(()=>{}):A.push(e)},F=()=>{C.value.openSearch()},H=e=>{d.remove("themeConfig"),g.value.globalI18n=e,d.set("themeConfig",g.value),U.value=e,te.useTitle(),k("globalI18n","disabledI18n")},J=()=>{const e=w.getUserInfo;return e&&e.avatar&&e.avatar.trim()!==""?e.avatar.startsWith("blob:")?"https://img2.baidu.com/it/u=1978192862,2048448374&fm=253&fmt=auto&app=138&f=JPEG?w=504&h=500":e.avatar:"https://img2.baidu.com/it/u=1978192862,2048448374&fm=253&fmt=auto&app=138&f=JPEG?w=504&h=500"},G=()=>{const e=w.getUserInfo;return e&&e.nickname&&e.nickname.trim()!==""?e.nickname:e&&e.phone_number&&e.phone_number.trim()!==""?e.phone_number:"智云农庄用户"},k=(e,o)=>{a[o]=d.get("themeConfig")[e]};return re(()=>{d.get("themeConfig")&&k("globalI18n","disabledI18n")}),(e,o)=>{const n=l("el-dropdown-item"),u=l("el-dropdown-menu"),y=l("el-dropdown"),j=l("ele-Search"),p=l("el-icon"),q=l("ele-Bell"),Q=l("el-badge"),W=l("el-popover"),X=l("ele-ArrowDown");return E(),B("div",{class:"layout-navbars-breadcrumb-user pr15",style:ce({flex:L.value})},[s(y,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:H},{dropdown:t(()=>[s(u,null,{default:t(()=>[s(n,{command:"zh-cn",disabled:a.disabledI18n==="zh-cn"},{default:t(()=>[...o[0]||(o[0]=[i("简体中文",-1)])]),_:1},8,["disabled"]),s(n,{command:"en",disabled:a.disabledI18n==="en"},{default:t(()=>[...o[1]||(o[1]=[i("English",-1)])]),_:1},8,["disabled"]),s(n,{command:"zh-tw",disabled:a.disabledI18n==="zh-tw"},{default:t(()=>[...o[2]||(o[2]=[i("繁體中文",-1)])]),_:1},8,["disabled"])]),_:1})]),default:t(()=>[r("div",_e,[r("i",{class:O(["iconfont",a.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,ge)])]),_:1}),r("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:F},[s(p,{title:e.$t("message.user.title2")},{default:t(()=>[s(j)]),_:1},8,["title"])]),r("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:V},[r("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,pe)]),ie((E(),B("div",{class:"layout-navbars-breadcrumb-user-icon",ref_key:"userNewsBadgeRef",ref:v},[s(Q,{"is-dot":!0},{default:t(()=>[s(p,{title:e.$t("message.user.title4")},{default:t(()=>[s(q)]),_:1},8,["title"])]),_:1})])),[[m(ue),P]]),s(W,{ref_key:"userNewsRef",ref:h,"virtual-ref":v.value,placement:"bottom",trigger:"click",transition:"el-zoom-in-top","virtual-triggering":"",width:300,persistent:!1},{default:t(()=>[s(m(N))]),_:1},8,["virtual-ref"]),r("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:M},[r("i",{class:O(["iconfont",a.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:a.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,be)]),s(y,{"show-timeout":70,"hide-timeout":50,onCommand:x},{dropdown:t(()=>[s(u,null,{default:t(()=>[s(n,{command:"/home"},{default:t(()=>[i(f(e.$t("message.user.dropdown1")),1)]),_:1}),s(n,{command:"/personal"},{default:t(()=>[i(f(e.$t("message.user.dropdown2")),1)]),_:1}),s(n,{divided:"",command:"logOut"},{default:t(()=>[i(f(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:t(()=>[r("span",he,[r("img",{src:J(),class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,ve),i(" "+f(G())+" ",1),s(p,{class:"el-icon--right"},{default:t(()=>[s(X)]),_:1})])]),_:1}),s(m(R),{ref_key:"searchRef",ref:C},null,512)],4)}}}),Ee=fe(Ce,[["__scopeId","data-v-a384a042"]]);export{Ee as default};
